@lexer

NUM = [0-9]+ ;
ADD = '+' ;
SUB = '-' ;
MUL = '*' ;
DIV = '/' ;
REM = '%' ;
POW = '^' ;
O_PAREN = '(' ;
C_PAREN = ')' ;

@frag ' '+  @skip ;

@parser

@start
S = expr ;

expr = expr '+' expr    @left(1)
     | expr '-' expr    @left(1)
     | expr '*' expr    @left(2)
     | expr '/' expr    @left(2)
     | expr '%' expr    @left(2)
     | expr '^' expr    @right(3)
     | '(' expr ')'
     | num ;

num = NUM
    | '-' NUM ;
